<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mpita Medical | Advanced Diagnostic & Research Lab Services in Kenya</title>
  <meta name="description" content="Mpita Medical provides specialized laboratory, diagnostic, and research-driven healthcare services in Kenya. Trusted for quality, innovation, and precision.">
  <meta name="keywords" content="Mpita Medical, Mpita, medical lab, diagnostics, healthcare Kenya, medical research, lab testing">

  <meta property="og:title" content="Mpita Medical | Specialized Lab Services for Research">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mpitamedical.shop">
  <meta property="og:image" content="img/hero/mtkenya.jpg">
  <meta property="og:image:alt" content="Mpita Medical Laboratory">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="img/icons/whatsapp-icon.svg" type="image/svg+xml">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">
  <link rel="stylesheet" href="styles.css">

  <!-- Tailwind + Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Leaflet CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-sA+rqG5w5zYkGyr6MLg4J8RaJ9RbH0s8gwPzYp9u+0k="
  crossorigin=""
/>
</head>
<!-- WhatsApp Floating Button -->
<a href="https://wa.me/254111899800?text=Hello%20Mpita%20Medical%20Team!%20I%20would%20like%20to%20book%20an%20appointment."
   class="whatsapp-float"
   target="_blank"
   aria-label="Chat on WhatsApp">
  <img src="img/icons/whatsapp-icon.svg" alt="Chat with Mpita Medical on WhatsApp" class="whatsapp-icon">
</a>

<body class="bg-gray-50 text-gray-800">

  <!-- HEADER -->
  <header class="bg-black shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
      <a href="#" class="text-2xl font-bold text-blue-600">Mpita<span class="text-gray-900">Medical</span></a>
      <nav class="space-x-6 hidden md:flex">
        <a href="services.html" class="hover:text-blue-600 font-medium">Services</a>
        <a href="about.html" class="hover:text-blue-600 font-medium">About</a>
        <a href="team.html" class="hover:text-blue-600 font-medium">Team</a>
        <a href="contact.html" class="hover:text-blue-600 font-medium">Contact</a>
      </nav>
      <a href="contact.html" class="bg-blue-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-blue-700">
        Get Started
      </a>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero-bg text-white py-24 relative overflow-hidden">
    <div class="max-w-6xl mx-auto px-6 text-center md:text-left flex flex-col md:flex-row items-center">
      <div class="md:w-1/2">
        <h1 class="text-5xl font-extrabold leading-tight mb-6">
          Specialized Lab Services <br> Driven for <span class="text-blue-200">Research Excellence</span>
        </h1>
        <p class="text-lg mb-8">
          Empowering healthcare institutions and researchers with precision laboratory analytics designed for innovation and clinical impact.
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="services.html" class="bg-white text-blue-600 font-bold px-6 py-3 rounded-md hover:bg-blue-100">Explore Services</a>
          <a href="contact.html" class="border border-white font-semibold px-6 py-3 rounded-md hover:bg-blue-700">Partner With Us</a>
        </div>
      </div>
      <div class="md:w-1/2 mt-12 md:mt-0">
        <img src="img/hero/" alt="Lab Research" class="rounded-2xl shadow-2xl">
      </div>
    </div>
  </section>

    <!-- Highlighted Services Section -->
    <section class="services-highlight">
      <div class="container">
        <h2>Our Core Services</h2>
        <p>We provide a full suite of diagnostic and research laboratory services trusted by hospitals, clinicians, and research institutions.</p>

        <div class="service-grid">
          <div class="service-card">
            <img src="img/hero/" alt="Diagnostics">
            <h3><a href="services.html">Clinical Diagnostics</a></h3>
            <p>Accurate pathology and biochemical testing for patient management and clinical accuracy.</p>
          </div>

          <div class="service-card">
            <img src="img/hero/" alt="Research Lab">
            <h3><a href="services.html">Research Laboratory</a></h3>
            <p>Empowering researchers with controlled environments and high-precision analytical tools.</p>
          </div>

          <div class="service-card">
            <img src="img/molecular.jpg" alt="Molecular Biology">
            <h3><a href="services.html">Molecular Testing</a></h3>
            <p>Genetic and molecular-level diagnostics that advance personalized medicine and public health.</p>
          </div>
        </div>
      </div>
    </section>

  <!-- ABOUT US -->
  <section id="about" class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-6 text-center md:text-left">
      <div class="md:flex md:items-center gap-10">
        <img src="https://cdn.pixabay.com/photo/2021/05/21/21/12/scientist-6271835_1280.jpg" alt="Research Team" class="rounded-2xl shadow-xl md:w-1/2">
        <div class="md:w-1/2 mt-10 md:mt-0">
          <h2 class="text-4xl font-bold mb-4">Driven by Science, Built for Collaboration</h2>
          <p class="text-gray-600 mb-6">
            Mpita Medical bridges the gap between laboratory excellence and research innovation.
            Our infrastructure supports advanced diagnostic development, clinical trials, and molecular research.
            We collaborate with medical professionals and research institutions to push the boundaries of discovery.
          </p>
          <a href="contact.html" class="inline-block bg-blue-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-blue-700">
            Join Our Research Network
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- OUR TEAM -->
  <section id="team" class="py-20 bg-gray-100">
    <div class="max-w-6xl mx-auto px-6 text-center">
      <h2 class="text-4xl font-bold mb-8">Meet Our Team</h2>
      <p class="text-lg text-gray-600 mb-12">
        Our multidisciplinary team combines scientific rigor, clinical experience, and innovation to deliver exceptional results.
      </p>

      <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8">
        <div class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition">
          <img src="https://cdn.pixabay.com/photo/2016/03/27/19/31/doctor-1283624_1280.jpg" alt="Dr. Kamau" class="w-28 h-28 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-lg font-semibold">Luis Mateus Mpita</h3>
          <p class="text-blue-600 text-sm mb-2">Diagnostic Radiograher</p>
          <p class="text-gray-500 text-sm">Oversees diagnostic innovation and molecular pathology initiatives with 3+ years of experience.</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition">
          <img src="https://cdn.pixabay.com/photo/2018/02/02/22/16/lab-3124113_1280.jpg" alt="Dr. Wanjiru" class="w-28 h-28 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-lg font-semibold">Fransisco Mateus Mpita</h3>
          <p class="text-blue-600 text-sm mb-2">Director of Biomedical Research</p>
          <p class="text-gray-500 text-sm">Expert in translational medicine and lab innovation driving our R&D excellence with 30+ years of experience.</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition">
          <img src="https://cdn.pixabay.com/photo/2019/03/14/11/34/lab-4052396_1280.jpg" alt="Dr. Otieno" class="w-28 h-28 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-lg font-semibold">Joyce Wangui</h3>
          <p class="text-blue-600 text-sm mb-2">Medical records</p>
          <p class="text-gray-500 text-sm">Ensures diagnostic accuracy data collection and quality control across all research operations.</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition">
          <img src="https://cdn.pixabay.com/photo/2016/11/29/04/17/people-1868750_1280.jpg" alt="Sarah Mwende" class="w-28 h-28 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-lg font-semibold">Nancy Mwangi </h3>
          <p class="text-blue-600 text-sm mb-2">Lead psychologist </p>
          <p class="text-gray-500 text-sm">Heads philosophy and ethics development , ensuring high research standards.</p>
        </div>
      </div>
    </div>
  </section>

<!-- DISCOVER NEARBY SECTION (Overpass API + Slider) -->
<section id="discover" class="py-20 bg-white border-t border-gray-200">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-4xl font-bold mb-4 text-blue-700">Discover Nearby Healthcare Facilities</h2>
    <p class="text-gray-600 mb-8">
      Find nearby chemists, labs, clinics, or hospitals with real-time map data.
    </p>

    <div class="flex flex-col sm:flex-row justify-center gap-4 mb-6">
      <select id="placeType" class="border border-gray-300 rounded-md px-4 py-3 focus:ring-2 focus:ring-blue-500">
        <option value="hospital">Hospital</option>
        <option value="clinic">Clinic</option>
        <option value="pharmacy">Chemist</option>
        <option value="laboratory">Laboratory</option>
      </select>

      <div class="flex flex-col text-left">
        <label for="radiusSlider" class="text-sm font-semibold text-gray-700">Search Radius: <span id="radiusValue">5</span> km</label>
        <input id="radiusSlider" type="range" min="1" max="20" value="5" step="1" class="w-48 accent-blue-600">
      </div>

      <button id="discoverBtn" class="bg-blue-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-blue-700">
        Discover Nearby
      </button>
    </div>

    <p id="statusMsg" class="text-sm text-gray-500 mb-6"></p>
    <div id="results" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    <div id="map" class="hidden mt-10 h-96 rounded-xl shadow-md"></div>
  </div>
</section>
  
  <!-- FOOTER -->
  <footer class="bg-gray-900 text-gray-300 py-10">
    <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-8">
      <div>
        <h3 class="text-white text-xl font-semibold mb-3">Mpita Medical</h3>
        <p>Specialized Laboratory Services for Research and Clinical Innovation.</p>
      </div>

      <div>
        <h4 class="text-white font-semibold mb-3">Quick Links</h4>
        <ul class="space-y-2">
          <li><a href="services.html" class="hover:text-white">Our Services</a></li>
          <li><a href="about.html" class="hover:text-white">About Us</a></li>
          <li><a href="team.html" class="hover:text-white">Our Team</a></li>
          <li><a href="contact.html" class="hover:text-white">Contact</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-white font-semibold mb-3">Contact Us</h4>
        <p><i class="fas fa-envelope mr-2"></i> healthupdates@mpitamedical.shop</p>
        <p><i class="fas fa-phone mr-2"></i> +254 111899800</p>
        <div class="flex space-x-4 mt-4">
          <a href="#" class="hover:text-white"><i class="fab fa-linkedin"></i></a>
          <a href="#" class="hover:text-white"><i class="fab fa-facebook"></i></a>
          <a href="#" class="hover:text-white"><i class="fab fa-x-twitter"></i></a>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-500 mt-10 border-t border-gray-700 pt-4 text-sm">
      © 2025 Mpita Medical Laboratory. All rights reserved.
    </div>
  </footer>

  <!-- Scripts -->
!-- Leaflet JS -->
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-o9N1jDwied7mT2zGIMpQ+5nLz9sF9tG5S3kZ1C8Q0C4="
  crossorigin=""
></script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const discoverBtn = document.getElementById('discoverBtn');
const resultsDiv = document.getElementById('results');
const statusMsg = document.getElementById('statusMsg');
const mapDiv = document.getElementById('map');
const radiusSlider = document.getElementById('radiusSlider');
const radiusValue = document.getElementById('radiusValue');
let map, userMarker;

radiusSlider.addEventListener('input', () => {
  radiusValue.textContent = radiusSlider.value;
});

discoverBtn.addEventListener('click', () => {
  statusMsg.textContent = "Detecting your location...";
  resultsDiv.innerHTML = "";
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(success, error);
  } else {
    statusMsg.textContent = "Geolocation not supported by your browser.";
  }
});

function success(position) {
  const lat = position.coords.latitude;
  const lon = position.coords.longitude;
  const type = document.getElementById('placeType').value;
  const radius = radiusSlider.value * 1000; // in meters

  statusMsg.textContent = `Searching for nearby ${type}s within ${radiusSlider.value} km...`;

  mapDiv.classList.remove('hidden');
  if (!map) {
    map = L.map('map').setView([lat, lon], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>'
    }).addTo(map);
  } else {
    map.setView([lat, lon], 13);
  }

  if (userMarker) map.removeLayer(userMarker);
  userMarker = L.marker([lat, lon]).addTo(map).bindPopup("You are here").openPopup();

  const query = `
    [out:json];
    node(around:${radius},${lat},${lon})["amenity"="${type}"];
    out body;
  `;
  fetch("https://overpass-api.de/api/interpreter", {
    method: "POST",
    body: query,
  })
  .then(res => res.json())
  .then(data => displayResults(data.elements, lat, lon, type))
  .catch(() => statusMsg.textContent = "Error fetching data from Overpass API.");
}

function displayResults(data, userLat, userLon, type) {
  resultsDiv.innerHTML = "";
  if (!data || data.length === 0) {
    statusMsg.textContent = "No nearby " + type + "s found.";
    return;
  }

  statusMsg.textContent = `Found ${data.length} ${type}${data.length > 1 ? "s" : ""} nearby.`;

  data.forEach(place => {
    const name = place.tags.name || "Unnamed Facility";
    const address = place.tags["addr:street"] || "Address unavailable";
    const lat = place.lat;
    const lon = place.lon;
    const dist = haversine(userLat, userLon, lat, lon);

    const card = document.createElement("div");
    card.className = "bg-gray-100 p-4 rounded-lg shadow hover:shadow-lg transition cursor-pointer";
    card.innerHTML = `
      <h3 class="font-semibold text-lg text-blue-700 mb-1">${name}</h3>
      <p class="text-gray-600 text-sm mb-2">${address}</p>
      <p class="text-xs text-gray-500 mb-2">Approx. ${dist.toFixed(1)} km away</p>
      <p class="text-xs text-gray-500">Type: ${type}</p>
    `;
    card.addEventListener('click', () => loadFacilityDetails(name));
    resultsDiv.appendChild(card);

    L.marker([lat, lon])
      .addTo(map)
      .bindPopup(`<b>${name}</b><br>${address}<br>${dist.toFixed(1)} km away`);
  });
}

function loadFacilityDetails(name) {
  const filename = name.toLowerCase().replace(/\s+/g, '-') + ".json";
  fetch(`data/hospitals/${filename}`)
    .then(res => res.json())
    .then(data => showFacilityTemplate(data))
    .catch(() => alert("No detailed info available for this facility yet."));
}

function showFacilityTemplate(data) {
  const html = `
    <div class="p-6 bg-white rounded-xl shadow-md text-left">
      <h2 class="text-2xl font-bold text-blue-800 mb-2">${data.name}</h2>
      <p class="text-gray-600 mb-2"><strong>Address:</strong> ${data.address}</p>
      <p class="text-gray-600 mb-2"><strong>Phone:</strong> ${data.phone}</p>
      <p class="text-gray-600 mb-4"><strong>Opening Hours:</strong> ${data.hours}</p>
      <p class="text-gray-700">${data.description}</p>
      <img src="${data.image}" alt="${data.name}" class="mt-4 rounded-lg shadow-lg">
    </div>
  `;
  document.getElementById("results").innerHTML = html;
}

function error() {
  statusMsg.textContent = "Unable to access your location.";
}

function haversine(lat1, lon1, lat2, lon2) {
  const R = 6371;
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLon = (lon2 - lon1) * Math.PI / 180;
  const a = Math.sin(dLat / 2) ** 2 +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLon / 2) ** 2;
  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}
</script>
  <script src="js/app.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

</body>
</html>
